<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English 4Âº ESO - Unit 4: Extreme Practice</title>
    <!-- Tailwind CSS desde CDN para funcionamiento instantÃ¡neo en GitHub -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');
        
        :root {
            --primary: #6366f1;
            --secondary: #a855f7;
            --bg-dark: #0f172a;
        }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(at 0% 0%, rgba(99, 102, 241, 0.15) 0px, transparent 50%),
                radial-gradient(at 100% 100%, rgba(168, 85, 247, 0.15) 0px, transparent 50%);
            min-height: 100vh;
            color: #f8fafc;
            overflow-x: hidden;
        }

        h1, h2, h3, .rank-font, .nav-item {
            font-family: 'Space Grotesk', sans-serif;
        }

        .glass {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .xp-bar-fill {
            transition: width 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            background: linear-gradient(90deg, #6366f1, #a855f7);
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        .tab-content {
            display: none;
            animation: fadeInScale 0.4s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.98) translateY(10px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        .wrong-shake {
            animation: shake 0.4s cubic-bezier(.36,.07,.19,.97) both;
        }

        @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }

        .correct-pulse {
            animation: pulse-border 0.5s ease-out;
        }

        @keyframes pulse-border {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.6); }
            100% { box-shadow: 0 0 0 15px rgba(34, 197, 94, 0); }
        }
        
        /* Estilo para los botones deshabilitados */
        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="pb-24">

    <!-- Navbar Superior -->
    <nav class="sticky top-0 z-[100] glass border-b border-white/5 px-4 py-3 mb-8">
        <div class="max-w-6xl mx-auto flex items-center justify-between">
            <div class="flex items-center gap-4">
                <div class="relative">
                    <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center font-black text-white shadow-lg rotate-3">
                        U4
                    </div>
                </div>
                <div>
                    <p id="rank-text" class="text-xs font-black text-indigo-400 uppercase tracking-widest leading-none mb-1">Novato</p>
                    <div class="flex items-center gap-2">
                        <div class="w-32 h-2 bg-slate-800 rounded-full overflow-hidden border border-white/5">
                            <div id="xp-bar" class="xp-bar-fill h-full w-0"></div>
                        </div>
                        <span id="xp-counter" class="text-[10px] font-bold text-slate-400">0 / 1000</span>
                    </div>
                </div>
            </div>

            <!-- NavegaciÃ³n de Escritorio -->
            <div class="hidden md:flex bg-slate-800/50 p-1 rounded-xl border border-white/5">
                <button onclick="switchTab('quest-grammar')" id="btn-quest-grammar-desktop" class="tab-btn-dk px-6 py-2 rounded-lg text-sm font-bold transition-all text-indigo-400 bg-indigo-500/10 shadow-inner">
                    Grammar Quest
                </button>
                <button onclick="switchTab('quest-vocab')" id="btn-quest-vocab-desktop" class="tab-btn-dk px-6 py-2 rounded-lg text-sm font-bold transition-all text-slate-400 hover:text-slate-200">
                    Vocab Arena
                </button>
            </div>

            <div class="flex items-center gap-4 bg-yellow-500/10 px-4 py-2 rounded-2xl border border-yellow-500/20">
                <span class="text-xl">ðŸ”¥</span>
                <span id="streak-val" class="font-black text-yellow-500">0</span>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="max-w-6xl mx-auto px-6 mb-12">
        <div class="max-w-3xl">
            <span class="inline-block px-4 py-1 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-xs font-bold uppercase tracking-widest mb-4">
                Unit 4 Practice: Decision Making
            </span>
            <h1 class="text-5xl md:text-7xl font-black tracking-tight mb-6 bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-500">
                Verb Patterns & <br>Adjective Suffixes
            </h1>
        </div>
    </header>

    <main class="max-w-6xl mx-auto px-6">

        <!-- TAB: GRAMMAR -->
        <section id="quest-grammar" class="tab-content active space-y-8">
            <div class="grid md:grid-cols-12 gap-8">
                <div class="md:col-span-8 space-y-6">
                    <!-- Ejercicio 1 -->
                    <div class="glass p-8 rounded-[2rem] border-l-4 border-l-blue-500">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-8 h-8 rounded-lg bg-blue-500/20 text-blue-400 flex items-center justify-center text-sm">01</span>
                            Remember & Forget
                        </h3>
                        <div class="space-y-4">
                            <div class="p-6 rounded-2xl bg-slate-800/40 border border-white/5">
                                <p class="text-slate-200 mb-4">1. I remember <span class="text-indigo-400 font-bold">_____</span> (take) photos of you at the beach last summer.</p>
                                <div class="flex gap-3">
                                    <button onclick="answer(this, true, 50)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-indigo-600 transition-all">taking</button>
                                    <button onclick="answer(this, false, 0)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-indigo-600 transition-all">to take</button>
                                </div>
                            </div>
                            <div class="p-6 rounded-2xl bg-slate-800/40 border border-white/5">
                                <p class="text-slate-200 mb-4">2. I looks like I forgot <span class="text-indigo-400 font-bold">_____</span> (smile)! I look angry.</p>
                                <div class="flex gap-3">
                                    <button onclick="answer(this, false, 0)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-indigo-600 transition-all">smiling</button>
                                    <button onclick="answer(this, true, 50)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-indigo-600 transition-all">to smile</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Ejercicio 2 -->
                    <div class="glass p-8 rounded-[2rem] border-l-4 border-l-purple-500">
                        <h3 class="text-xl font-bold mb-6 flex items-center gap-3">
                            <span class="w-8 h-8 rounded-lg bg-purple-500/20 text-purple-400 flex items-center justify-center text-sm">02</span>
                            Try & Stop (Hard Mode)
                        </h3>
                        <div class="space-y-4">
                            <div class="p-6 rounded-2xl bg-slate-800/40 border border-white/5">
                                <p class="text-slate-200 mb-4">3. We stopped <span class="text-indigo-400 font-bold">_____</span> (buy) an ice cream because it was hot.</p>
                                <div class="flex gap-3">
                                    <button onclick="answer(this, true, 100)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-purple-600 transition-all">to buy</button>
                                    <button onclick="answer(this, false, 0)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-purple-600 transition-all">buying</button>
                                </div>
                            </div>
                            <div class="p-6 rounded-2xl bg-slate-800/40 border border-white/5">
                                <p class="text-slate-200 mb-4">4. We tried <span class="text-indigo-400 font-bold">_____</span> (find) the purse on the beach, but it was lost.</p>
                                <div class="flex gap-3">
                                    <button onclick="answer(this, true, 100)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-purple-600 transition-all">to find</button>
                                    <button onclick="answer(this, false, 0)" class="flex-1 py-3 rounded-xl bg-slate-900 border border-white/10 font-bold hover:bg-purple-600 transition-all">finding</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Info Lateral -->
                <div class="md:col-span-4">
                    <div class="glass p-6 rounded-3xl sticky top-24 space-y-6">
                        <h4 class="text-xs font-black uppercase text-indigo-400 tracking-widest">Quick Review</h4>
                        <div class="text-[11px] space-y-4 text-slate-400">
                            <div class="bg-white/5 p-3 rounded-xl">
                                <p class="text-white font-bold">STOP + -ING</p>
                                <p>Interrumpir una acciÃ³n para siempre o un tiempo (Dejar de...).</p>
                            </div>
                            <div class="bg-white/5 p-3 rounded-xl">
                                <p class="text-white font-bold">STOP + TO</p>
                                <p>Hacer una pausa en el camino para hacer otra cosa.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- TAB: VOCABULARY -->
        <section id="quest-vocab" class="tab-content space-y-8">
            <div class="glass p-8 md:p-12 rounded-[3rem] border-white/5 shadow-2xl">
                <div class="max-w-2xl mx-auto text-center mb-12">
                    <h2 class="text-3xl font-black mb-4">SUFFIX CHALLENGE</h2>
                    <p class="text-slate-400">Transforma las palabras en adjetivos usando los sufijos: <br><strong>-ful, -less, -able, -ive, -ous, -ant</strong>.</p>
                </div>

                <div class="grid md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <!-- Input 1 -->
                        <div class="bg-slate-900/50 p-6 rounded-2xl border border-white/5">
                            <label class="block text-xs font-bold text-slate-500 mb-2 uppercase">Enjoy</label>
                            <div class="flex gap-2">
                                <input type="text" id="v_enjoy" class="flex-1 bg-slate-800 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 font-bold text-white transition-all" placeholder="Escribe el adjetivo...">
                                <button onclick="checkVocab('v_enjoy', 'enjoyable', 100)" class="bg-indigo-600 px-6 rounded-xl font-bold shadow-lg shadow-indigo-600/20">CHECK</button>
                            </div>
                        </div>
                        <!-- Input 2 -->
                        <div class="bg-slate-900/50 p-6 rounded-2xl border border-white/5">
                            <label class="block text-xs font-bold text-slate-500 mb-2 uppercase">Power</label>
                            <div class="flex gap-2">
                                <input type="text" id="v_power" class="flex-1 bg-slate-800 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 font-bold text-white transition-all" placeholder="Escribe el adjetivo...">
                                <button onclick="checkVocab('v_power', 'powerful', 100)" class="bg-indigo-600 px-6 rounded-xl font-bold shadow-lg shadow-indigo-600/20">CHECK</button>
                            </div>
                        </div>
                        <!-- Input 3 -->
                        <div class="bg-slate-900/50 p-6 rounded-2xl border border-white/5">
                            <label class="block text-xs font-bold text-slate-500 mb-2 uppercase">Value</label>
                            <div class="flex gap-2">
                                <input type="text" id="v_value" class="flex-1 bg-slate-800 border border-white/10 rounded-xl px-4 py-3 outline-none focus:border-indigo-500 font-bold text-white transition-all" placeholder="Escribe el adjetivo...">
                                <button onclick="checkVocab('v_value', 'valuable', 100)" class="bg-indigo-600 px-6 rounded-xl font-bold shadow-lg shadow-indigo-600/20">CHECK</button>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <div class="glass p-6 rounded-2xl border-l-4 border-l-emerald-500">
                            <h4 class="text-emerald-400 font-bold text-sm mb-1">PLEASANT</h4>
                            <p class="text-xs text-slate-400 italic">"A pleasant surprise I had recently was meeting an old friend."</p>
                        </div>
                        <div class="glass p-6 rounded-2xl border-l-4 border-l-blue-500">
                            <h4 class="text-blue-400 font-bold text-sm mb-1">IMPRESSIVE</h4>
                            <p class="text-xs text-slate-400 italic">"The most impressive thing I've ever seen was the Grand Canyon."</p>
                        </div>
                        <div class="glass p-6 rounded-2xl border-l-4 border-l-rose-500">
                            <h4 class="text-rose-400 font-bold text-sm mb-1">USELESS</h4>
                            <p class="text-xs text-slate-400 italic">"The most useless thing I've ever bought was a water bottle that leaked."</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Barra NavegaciÃ³n MÃ³vil -->
    <div class="md:hidden fixed bottom-6 left-6 right-6 glass rounded-2xl p-2 border-white/10 z-[101] flex shadow-2xl">
        <button onclick="switchTab('quest-grammar')" id="btn-quest-grammar-mobile" class="flex-1 py-3 text-xs font-bold uppercase text-indigo-400 bg-white/5 rounded-xl">Grammar</button>
        <button onclick="switchTab('quest-vocab')" id="btn-quest-vocab-mobile" class="flex-1 py-3 text-xs font-bold uppercase text-slate-400">Vocab</button>
    </div>

    <!-- Toast de Experiencia -->
    <div id="msg" class="fixed bottom-10 right-10 transform scale-0 transition-all duration-300 glass border-2 border-indigo-500 text-white px-8 py-4 rounded-3xl font-black z-[200] shadow-2xl">
        +100 XP
    </div>

    <script>
        let xp = 0;
        let streak = 0;
        const maxXp = 1000;

        // Actualizar la interfaz de usuario
        function updateUI() {
            const bar = document.getElementById('xp-bar');
            const counter = document.getElementById('xp-counter');
            const rankText = document.getElementById('rank-text');
            const streakEl = document.getElementById('streak-val');

            let percentage = (xp / maxXp) * 100;
            if(percentage > 100) percentage = 100;

            bar.style.width = percentage + '%';
            counter.innerText = `${xp} / ${maxXp}`;
            streakEl.innerText = streak;

            if (xp >= 1000) rankText.innerText = "LEYENDA ðŸ‘‘";
            else if (xp >= 500) rankText.innerText = "EXPERTO ðŸŽ–ï¸";
            else rankText.innerText = "NOVATO ðŸŽ®";
        }

        // Cambio de pestaÃ±as (Mobile + Desktop)
        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(id).classList.add('active');

            // Actualizar botones desktop
            document.querySelectorAll('.tab-btn-dk').forEach(b => {
                b.classList.remove('text-indigo-400', 'bg-indigo-500/10', 'shadow-inner');
                b.classList.add('text-slate-400');
            });
            const activeDk = document.getElementById('btn-' + id + '-desktop');
            activeDk.classList.add('text-indigo-400', 'bg-indigo-500/10', 'shadow-inner');
            activeDk.classList.remove('text-slate-400');

            // Actualizar botones mobile
            document.querySelectorAll('.md\\:hidden button').forEach(b => {
                b.classList.remove('text-indigo-400', 'bg-white/5', 'rounded-xl');
                b.classList.add('text-slate-400');
            });
            const activeMb = document.getElementById('btn-' + id + '-mobile');
            activeMb.classList.add('text-indigo-400', 'bg-white/5', 'rounded-xl');
            activeMb.classList.remove('text-slate-400');

            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Manejo de respuestas de gramÃ¡tica
        function answer(btn, isCorrect, points) {
            if (btn.disabled) return;

            if (isCorrect) {
                btn.classList.add('bg-green-500', 'text-white', 'border-green-400', 'correct-pulse');
                xp += points;
                streak++;
                showMsg(`PERFECT! +${points} XP`);
            } else {
                btn.classList.add('bg-red-500', 'text-white', 'border-red-400', 'wrong-shake');
                streak = 0;
                showMsg(`Ouch! Try again ðŸ’€`);
            }

            btn.parentElement.querySelectorAll('button').forEach(b => b.disabled = true);
            updateUI();
        }

        // Manejo de respuestas de vocabulario
        function checkVocab(id, correct, points) {
            const input = document.getElementById(id);
            const val = input.value.toLowerCase().trim();

            if (val === correct) {
                input.classList.add('bg-green-500/20', 'border-green-500', 'text-green-400', 'correct-pulse');
                input.disabled = true;
                xp += points;
                streak++;
                showMsg(`GENIUS! +${points} XP`);
            } else {
                input.classList.add('wrong-shake', 'border-red-500');
                setTimeout(() => input.classList.remove('wrong-shake'), 400);
            }
            updateUI();
        }

        // Mostrar mensajes flotantes
        function showMsg(text) {
            const msg = document.getElementById('msg');
            msg.innerText = text;
            msg.classList.remove('scale-0');
            msg.classList.add('scale-100');
            setTimeout(() => {
                msg.classList.remove('scale-100');
                msg.classList.add('scale-0');
            }, 2000);
        }

        // Iniciar UI
        updateUI();
    </script>
</body>
</html>
